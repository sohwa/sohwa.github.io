<!DOCTYPE html>
<head>
    <meta charset="UTF-8"/>
    <style>
    html, body { 
        padding:        0;
        margin:         0;
        width:          100%;
        height:         100%;
        overflow-x:     hidden;
        background-color: black;
    }
    </style>
</head>
<body oncontextmenu="return false" ondragstart="return false" onselectstart="return false"
        oncopy="return false" oncut="return false" onpaste="return false" >

    <div id="map" style="width:100%; height:100%; " ></div>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1cb02721f958616d7e3beee427b8e90c&libraries=services"></script>

    <script>
        var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
        var options = { //지도를 생성할 때 필요한 기본 옵션
            center: new daum.maps.LatLng(33.450701, 126.570667), //지도의 중심좌표.
            level: 3 //지도의 레벨(확대, 축소 정도)
        };

        var map = new daum.maps.Map(container, options); //지도 생성 및 객체 리턴

        daum.maps.event.addListener(map, 'click', function(mouseEvent) {        
            
            
			searchDetailAddrFromCoords(mouseEvent.latLng, function(result, status) {
				if (status === daum.maps.services.Status.OK) {

					var detailAddr = !!result[0].road_address ? '도로명주소 : ' + result[0].road_address.address_name  : '';
					detailAddr += ('  지번 주소 : ' + result[0].address.address_name );
					
					var local_url = (location.href).replace(/#.+/, "");
					var url = local_url + "#" + detailAddr;
					console.log(url);
					document.location.href = url;

					// 마커를 클릭한 위치에 표시합니다 
					marker.setPosition(mouseEvent.latLng);
					marker.setMap(map);

					// 인포윈도우에 클릭한 위치에 대한 법정동 상세 주소정보를 표시합니다
					infowindow.setContent(content);
					infowindow.open(map, marker);
				}   
			});

            
        });
        var geocoder = new daum.maps.services.Geocoder();

        var log = function(){
            console.log('오빠목!!');
        }

        var searchAdd = function(address){
			geocoder.addressSearch(address, function(result, status) {

				 if (status === daum.maps.services.Status.OK) {

					var coords = new daum.maps.LatLng(result[0].y, result[0].x);
                     console.log('주소찾기');

					var marker = new daum.maps.Marker({
						map: map,
						position: coords
					});

					var infowindow = new daum.maps.InfoWindow({
						//content: '<div style="width:150px;text-align:center;padding:6px 0;">우리회사</div>'
					});
					infowindow.open(map, marker);

					map.setCenter(coords);
				} 
			}); 
        }


    </script>

</body>
